{% extends 'healthcare/base.html' %}

{% block title %}Physicians - InHealth EHR{% endblock %}

{% block breadcrumbs %}
&rsaquo; <a href="{% url 'physician_list' %}">Physicians</a>
{% endblock %}

{% block content %}
<h1>Physicians</h1>

<!-- Search -->
<div class="search-form">
    <form method="get" action="{% url 'physician_list' %}">
        <input type="text" name="search" value="{{ search }}" placeholder="Search physicians by name, specialty, or NPI...">
        <button type="submit">Search</button>
    </form>
</div>

<!-- Physician List -->
<div class="module">
    <table>
        <caption>Physician List</caption>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Hospital</th>
                <th>Specialty</th>
                <th>NPI</th>
                <th>Phone</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for physician in physicians %}
            <tr>
                <td>{{ physician.provider_id }}</td>
                <td>
                    <a href="{% url 'physician_detail' physician.provider_id %}">
                        Dr. {{ physician.full_name }}
                    </a>
                </td>
                <td>
                    {% if physician.hospital %}
                        <a href="{% url 'hospital_detail' physician.hospital.hospital_id %}">
                            {{ physician.hospital.name }}
                        </a>
                    {% else %}
                        <span style="color: #999;">Not assigned</span>
                    {% endif %}
                </td>
                <td>{{ physician.specialty|default:"N/A" }}</td>
                <td>{{ physician.npi }}</td>
                <td>{{ physician.phone|default:"N/A" }}</td>
                <td>
                    <a href="{% url 'physician_detail' physician.provider_id %}">View</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="7" style="text-align: center; color: #666;">
                    No physicians found.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<p style="margin-top: 20px; font-size: 12px; color: #666;">
    <strong>Note:</strong> To add or edit physicians, please use the <a href="/admin/healthcare/provider/">Admin Panel</a>.
</p>
{% endblock %}
