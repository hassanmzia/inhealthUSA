{% extends 'healthcare/base.html' %}
{% block title %}Edit Provider Profile - InHealth EHR{% endblock %}
{% block breadcrumbs %}
<a href="{% url 'provider_profile' %}">My Provider Profile</a> &rsaquo; Edit Profile
{% endblock %}
{% block content %}
<style>
.form-container{max-width:800px;margin:0 auto;background:white;border:1px solid var(--hairline-color);border-radius:4px;padding:30px}
.form-container h1{margin:0 0 10px 0;font-size:24px;font-weight:300}
.form-container .subtitle{font-size:13px;color:#666;margin-bottom:25px;padding-bottom:15px;border-bottom:1px solid var(--hairline-color)}
.form-section{margin-bottom:30px}
.form-section h2{font-size:16px;font-weight:500;margin:0 0 15px 0;padding-bottom:10px;border-bottom:1px solid var(--hairline-color)}
.form-group{margin-bottom:20px}
.form-group label{display:block;font-size:13px;font-weight:600;color:#666;margin-bottom:6px}
.form-group input,.form-group select,.form-group textarea{width:100%;padding:10px 12px;font-size:13px;border:1px solid var(--hairline-color);border-radius:4px;font-family:inherit}
.form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(32,80,103,0.1)}
.form-group input:read-only{background:var(--darkened-bg);color:#999;cursor:not-allowed}
.form-group .help-text{font-size:12px;color:#666;margin-top:4px}
.form-actions{display:flex;gap:10px;padding-top:20px;border-top:1px solid var(--hairline-color)}
.btn{padding:10px 20px;font-size:13px;font-weight:500;border-radius:4px;border:none;cursor:pointer;text-decoration:none;display:inline-block;transition:background 0.2s}
.btn-primary{background:var(--primary);color:var(--header-link-color)}
.btn-primary:hover{background:var(--primary-dark,#205067);color:white}
.btn-secondary{background:#e0e0e0;color:#333}
.btn-secondary:hover{background:#d0d0d0}
.alert{padding:15px 20px;border-radius:4px;margin-bottom:20px;font-size:13px}
.alert-info{background:#e3f2fd;color:#1565c0;border:1px solid #bbdefb}
</style>

<div class="form-container">
    <h1>Edit Provider Profile</h1>
    <div class="subtitle">Update your contact information below</div>

    <div class="alert alert-info">
        <strong>Note:</strong> You can only edit your contact information. Professional information (name, NPI, license, specialty) can only be changed by an administrator.
    </div>

    <form method="post">
        {% csrf_token %}

        <div class="form-section">
            <h2>Professional Information (Read Only)</h2>
            <div class="form-group">
                <label for="full_name">Full Name</label>
                <input type="text" id="full_name" value="Dr. {{ provider.full_name }}" readonly>
            </div>
            <div class="form-group">
                <label for="specialty">Specialty</label>
                <input type="text" id="specialty" value="{{ provider.specialty|default:'Not specified' }}" readonly>
            </div>
            <div class="form-group">
                <label for="npi">NPI Number</label>
                <input type="text" id="npi" value="{{ provider.npi }}" readonly>
            </div>
            <div class="form-group">
                <label for="license">License Number</label>
                <input type="text" id="license" value="{{ provider.license_number|default:'Not specified' }}" readonly>
            </div>
        </div>

        <div class="form-section">
            <h2>Contact Information (Editable)</h2>
            <div class="form-group">
                <label for="email">Email Address *</label>
                <input type="email" id="email" name="email" value="{{ provider.email }}" required>
                <div class="help-text">This email will be used for system notifications and patient communications</div>
            </div>
            <div class="form-group">
                <label for="phone">Phone Number</label>
                <input type="tel" id="phone" name="phone" value="{{ provider.phone|default:'' }}">
                <div class="help-text">Format: (XXX) XXX-XXXX</div>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save Changes</button>
            <a href="{% url 'provider_profile' %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

{% endblock %}
